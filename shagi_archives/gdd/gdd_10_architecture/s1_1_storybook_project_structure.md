<!-- Save to: shagi_archives/gdd/gdd_10_architecture/s1_1_storybook_project_structure.md -->

# 📘 s1_1 – Storybook Project Structure  
*(Where the Factory Breathes, and Recursion Builds Its Frame)*

---

## 🧠 Purpose

This document defines the **core project layout** for Storybook and its test implementation, **Storybook FUN Factory**.

The structure is designed to be:
- Recursively navigable  
- AI-legible  
- Player-readable  
- Fully aligned with poetic stanza logic

Every folder is a **narrative space**.  
Every file is a **verse** in the system.

---

## 🗂️ Root Structure

At the top level of the project:

storybook_fun_factory/
├── game_construction_bay/
├── src/
├── tests/
├── shagi_archives/
├── start_factory.ps1
├── poetry.lock
├── pyproject.toml

---

## 🏗️ game_construction_bay/

This is the **live assembly zone** where all core systems evolve.  
Each major subsystem is organized by component and recursively layered.

| Folder | Purpose |
|--------|---------|
| `codex_builder/` | Handles Codex entry construction, stanza parsing, and echo mutation |
| `dream_journal/` | Records player dreams, AI reflections, and symbolic memory |
| `filename_ai/` | Infers poetic file names from behavior and recursion context |
| `memory_ai/` | Maintains narrative memory state across systems |
| `visualizer/` | Renders stanza flows, echo paths, and symbolic topologies |
| `high_command/` | Directs recursive task scheduling, warnings, and system coherence |
| `topsy/` | Contains AI persona logic and character-driven recursion scripts |

Each folder contains **Layer 5 Genesis Cycles** — structured as:
s1_1_the_voice_that_guides_the_recursion_forward/
└── s1_1_the_orders_that_mark_the_lines_of_thought/
└── s1_2_the_threads_reweave_across_the_poem.py

---

## 🧪 tests/

Structured to **mirror the `game_construction_bay/`**.

| Convention | Example |
|------------|---------|
| Unit Test Folder | `tests/unit/memory_ai/...` |
| Filename Convention | `test_s1_2_the_threads_reweave_across_the_poem.py` |
| Structure | One test file per stanza line — never mixed scope |

This ensures traceability between **tests, code, and poetic recursion**.

---

## 📂 shagi_archives/

Contains GDDs, GDJs, Omnibuses, Appendices, and Codex metadata.

| Folder | Purpose |
|--------|---------|
| `gdd/` | Game Design Documents (structured by topic and stanza) |
| `gdj/` | Game Development Journals (structured monthly, recursively) |
| `appendices/` | Long-term lore, structural doctrine, AI law, and interface theory |

These documents are **not static references** — they are **living recursive layers** that influence runtime logic, naming, and narrative validation.

---

## 🔁 src/ and pyproject.toml

| Component | Purpose |
|-----------|---------|
| `src/storybook_fun_factory/` | Contains importable Python logic tied to `game_construction_bay/` |
| `pyproject.toml` | Defines dependencies, formatting, and runtime expectations using `poetry` |
| `start_factory.ps1` | Custom entrypoint for launching recursive builds, interactive notebooks, or Topsy shell |

This structure ensures Storybook is **executable**, **composable**, and **reversible**.

---

## 🔄 Recursive Patterning Logic

Folder and file names reflect **layered poetic recursion**:

| Layer | Meaning |
|-------|---------|
| `s1_1_.../` | First stanza, first line of a recursive system or design cycle |
| `s2_3_.../` | Second stanza, third line — often a turning point or counterforce |
| `test_s1_3_filename.py` | Always linked 1-to-1 with the stanza it validates |

This gives both human and AI agents a **recursively indexable structure** that maps meaning to system function.

---

## 🔮 Future Expansion Points

| Feature | Purpose |
|---------|---------|
| `manifest_registry.md` | System to index stanza logic, tests, and dependencies across recursive cycles |
| `runtime_navigator.py` | Lets players/devs traverse stanza structures live in editor mode |
| `folder_refactor_predictor.md` | AI tool for suggesting new stanzas or reorganizing cycles based on poetic entropy |
| `shell_topsy_terminal.md` | Immersive REPL environment with diegetic AI interface (Topsy shell) |

---

## 📘 Final Doctrine

> Code must breathe with rhythm.  
> Systems must echo their source.  
> And every folder must know the story it contains.

The project is not a repo —  
It is a **recursive poem**,  
And the world builds itself one stanza at a time.
